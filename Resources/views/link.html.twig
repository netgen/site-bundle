{% set rootLocationPath = path( ezpublish.rootLocation ) %}

<link rel="home" href="{{ rootLocationPath }}" title="{{ siteName }} front page" />
<link rel="index" href="{{ rootLocationPath }}" />
<link rel="search" href="{{ path( 'ez_legacy', { 'module_uri': '/content/search' } ) }}" title="Search {{ siteName }}" />

<!-- Favicons -->
<!-- For iPad with high-resolution Retina display running iOS ≥ 7: -->
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-152-precomposed.png' ) }}">

<!-- For iPad with high-resolution Retina display running iOS ≤ 6: -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-144-precomposed.png' ) }}">

<!-- For iPhone with high-resolution Retina display running iOS ≥ 7: -->
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-120-precomposed.png' ) }}">

<!-- For iPhone with high-resolution Retina display running iOS ≤ 6: -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-114-precomposed.png' ) }}">

<!-- For the iPad mini and the first- and second-generation iPad on iOS ≥ 7: -->
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-76-precomposed.png' ) }}">

<!-- For the iPad mini and the first- and second-generation iPad on iOS ≤ 6: -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-72-precomposed.png' ) }}">

<!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
<link rel="apple-touch-icon-precomposed" href="{{ asset( 'bundles/netgenmore/images/apple-touch-icon-57-precomposed.png' ) }}">

<link rel="icon" href="{{ asset( 'bundles/netgenmore/images/favicon.png' ) }}" type="image/x-icon" />

{% set localeConversionMap = ezpublish.configResolver.getParameter( 'locale.conversion_map', 'ngmore' ) %}
{% set prioritizedLanguages = ezpublish.configResolver.getParameter( 'languages' ) %}

{% set route = location is defined ? location : app.request.attributes.get( '_route' ) %}

{% if ezpublish.availableLanguages|length > 1 %}
    {% for language in ezpublish.availableLanguages %}
        {% set translationSiteAccess = ezpublish.translationSiteAccess( language ) %}

        {% if translationSiteAccess is not empty %}
            {% if language != prioritizedLanguages.0 %}
                {% if route == 'ez_legacy' %}
                    {% set url = url(
                        ez_route( params={
                            'module_uri': app.request.attributes.get( 'semanticPathinfo' ) ~ app.request.attributes.get( 'viewParametersString' ),
                            'siteaccess': ezpublish.translationSiteAccess( language )
                        } )
                    ) %}
                {% else %}
                    {% set url = url(
                        ez_route( params={
                            'siteaccess': ezpublish.translationSiteAccess( language )
                        } )
                    ) %}
                {% endif %}

                <link rel="alternate" href="{{ url }}" hreflang="{{ localeConversionMap[language][0:2] }}" />
            {% endif %}
        {% endif %}
    {% endfor %}
{% endif %}
